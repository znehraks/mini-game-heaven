# Implementation Rules Template
# claude-symphony 프로젝트별 구현 규칙 정의 (Issue #10 해결)
#
# 이 파일은 Planning 스테이지(03)에서 프로젝트에 맞게 작성하고
# Implementation 스테이지(06)에서 참조합니다.
#
# 사용법:
# 1. 이 템플릿을 프로젝트 루트에 implementation.yaml로 복사
# 2. 프로젝트 요구사항에 맞게 수정
# 3. 구현 시 이 규칙을 따름

project:
  name: "{{PROJECT_NAME}}"
  created_at: "{{TIMESTAMP}}"

# 컴포넌트 규칙
components:
  # 컴포넌트 타입
  type: "functional"  # functional | class | both

  # export 방식
  export: "named"     # named | default | both

  # 파일당 컴포넌트 수
  single_component_per_file: true

  # Props 정의 방식
  props_definition: "interface"  # interface | type | inline

  # 기본 구조
  structure: |
    // imports
    // types/interfaces
    // component
    // exports

# 스타일링 규칙
styling:
  # 접근 방식
  approach: "css-modules"  # css-modules | styled-components | tailwind | emotion | vanilla

  # 파일 위치
  location: "colocated"    # colocated | separate | global

  # 네이밍
  naming: "BEM"            # BEM | camelCase | kebab-case

  # CSS 변수 사용
  css_variables: true

# 상태 관리 규칙
state_management:
  # 전역 상태
  global: "context"        # context | redux | zustand | recoil | jotai

  # 서버 상태
  server: "tanstack-query" # tanstack-query | swr | rtk-query

  # 로컬 상태
  local: "useState"        # useState | useReducer

# 파일/폴더 네이밍
file_naming:
  # 컴포넌트 파일
  components: "PascalCase"     # PascalCase | kebab-case | camelCase

  # 훅 파일
  hooks: "camelCase"           # useXxx 패턴

  # 유틸리티 파일
  utilities: "camelCase"

  # 상수 파일
  constants: "SCREAMING_SNAKE_CASE"

  # 테스트 파일
  tests: "{name}.test.{ext}"   # {name}.test.{ext} | {name}.spec.{ext}

# 폴더 구조
folder_structure:
  # 구조 타입
  type: "feature-based"  # feature-based | type-based | atomic

  # 기본 구조
  structure: |
    src/
    ├── components/     # 공용 컴포넌트
    ├── features/       # 기능별 모듈
    │   └── [feature]/
    │       ├── components/
    │       ├── hooks/
    │       ├── utils/
    │       └── index.ts
    ├── hooks/          # 공용 훅
    ├── utils/          # 공용 유틸리티
    ├── types/          # 타입 정의
    ├── constants/      # 상수
    └── styles/         # 전역 스타일

# API 연동 규칙
api:
  # HTTP 클라이언트
  client: "axios"       # axios | fetch | ky

  # API 호출 위치
  location: "services"  # services | features | hooks

  # 에러 핸들링
  error_handling: "centralized"  # centralized | per-request

  # 인터셉터 사용
  interceptors: true

# 에러 처리 규칙
error_handling:
  # Error Boundary 사용
  error_boundary: true

  # 로깅
  logging: "console"    # console | service | both

  # 사용자 알림
  user_notification: "toast"  # toast | modal | inline

# 테스트 규칙
testing:
  # 테스트 프레임워크
  framework: "vitest"   # vitest | jest

  # E2E 프레임워크
  e2e: "playwright"     # playwright | cypress

  # 커버리지 목표
  coverage_target: 80

  # 필수 테스트
  required:
    - "unit"
    - "integration"

# 코드 품질 규칙
code_quality:
  # 린터
  linter: "eslint"

  # 포매터
  formatter: "prettier"

  # 타입 체크
  type_check: "strict"  # strict | loose

  # 커밋 훅
  commit_hooks: true

# 문서화 규칙
documentation:
  # JSDoc 사용
  jsdoc: true

  # README 필수
  readme_per_feature: false

  # 컴포넌트 문서
  component_docs: "storybook"  # storybook | docz | none

# 금지 사항
prohibited:
  - "any 타입 사용 (명시적 escape 제외)"
  - "console.log (개발 중 제외)"
  - "인라인 스타일 (동적 스타일 제외)"
  - "매직 넘버/스트링"
  - "중첩 삼항 연산자"
  - "var 키워드"

# 권장 사항
recommended:
  - "Early return 패턴"
  - "Descriptive naming"
  - "Small functions (< 30 lines)"
  - "Composition over inheritance"
  - "Immutable data patterns"
