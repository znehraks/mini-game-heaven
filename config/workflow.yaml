# claude-symphony Workflow Configuration
# Workflow settings managed separately from Claude Code settings.json

# Skills settings
skills:
  stage-transition:
    description: "Stage transition automation"
    directory: ".claude/skills/stage-transition"
    triggers:
      - "completed"
      - "finished"
      - "done"
      - "finished"
      - "/handoff"
      - "/next"

  context-compression:
    description: "Context compression and management"
    directory: ".claude/skills/context-compression"
    triggers:
      - "token_warning"
      - "token_limit"
      - "/context --compress"

# Hooks settings (called directly from scripts)
hooks:
  pre-stage: ".claude/hooks/pre-stage.sh"
  post-stage: ".claude/hooks/post-stage.sh"

# Context management (percentage-based, remaining context basis)
context:
  # Percentage-based thresholds (recommended)
  thresholds:
    warning: 60      # 60% remaining - display warning banner
    action: 50       # 50% remaining - auto-save, recommend compression
    critical: 40     # 40% remaining - recommend /clear

  # Task-based auto-save
  task_save_frequency: 5  # Save every 5 tasks

  auto_save: true
  state_dir: "state/context"
  state_file_pattern: "state_{timestamp}_{stage}.md"

  # Legacy absolute values (for backward compatibility, not recommended)
  # warning_threshold: 50000
  # limit_threshold: 80000

# Checkpoint settings
checkpoints:
  directory: "state/checkpoints"
  required_stages:
    - "06-implementation"
    - "07-refactoring"
